# コマンド実行規約定義
# 危険なコマンドや確認が必要なコマンドに対して適用される規約を定義します

rules:
  # 例: Git操作規約
  # - name: "Git操作規約"
  #   patterns:
  #     - "git*"
  #   severity: "block"
  #   token_threshold: 25000
  #   message: |
  #     Git操作を実行する場合は規約を確認してください

  - name: "pytest実行規約"
    patterns:
      - "pytest*"
      - "python3 -m pytest*"
      - "python -m pytest*"
    severity: "warn"
    token_threshold: 25000
    message: |
      テスト実行時の確認事項:
      - カバレッジ付きで実行したか(--cov=src --cov-report=term-missing)
      - E2Eリプレイテストも含めて実行したか
      - 全テスト実行: python3 -m pytest tests/ -v
